import { Component, OnInit, HostListener } from '@angular/core';


@Component({
  selector: 'changeofscenery-panorama',
  templateUrl: './panorama.component.html',
  styleUrls: ['./panorama.component.css']
})
export class PanoramaComponent implements OnInit {
  currentPopup = "blank";
  panoImage:HTMLImageElement;
  panoImgIsLoaded = false;
  public coordinates = [];
  public popups = [];
  public backgroundImage = 'assets/Willard_Towers_North.jpg';
  
  constructor() { }

  ngOnInit(): void {
    const mainNav:HTMLElement = document.querySelector('#mainNav');
    var loc = window.location.href; 
    var direction = loc.slice(loc.lastIndexOf('/'), loc.length).split('?')[1].split('=')[1];
    mainNav.hidden = true;
    this.panoImage = document.querySelector('#panoramaImg');

    if (direction.toLowerCase() == 'north') {
      this.backgroundImage = 'assets/Willard_Towers_North.jpg';
      this.coordinates.push({'name':'North Park Apartments','left':{'percent':0.982,'value':0.0},'top':{'percent':0.3,'value':0.0},'right':{'percent':1.0,'value':0.0},'bottom':{'percent':0.9,'value':0.0}});
      this.coordinates.push({'name':'The Elizabeth','left':{'percent':0.954,'value':0.0},'top':{'percent':0.18,'value':0.0},'right':{'percent':0.98,'value':0.0},'bottom':{'percent':0.7,'value':0.0}});
      this.coordinates.push({'name':'Chevy Chase Building','left':{'percent':0.936,'value':0.0},'top':{'percent':0.22,'value':0.0},'right':{'percent':0.955,'value':0.0},'bottom':{'percent':0.83,'value':0.0}});
      this.coordinates.push({'name':'Parc Somerset','left':{'percent':0.865,'value':0.0},'top':{'percent':0.05,'value':0.0},'right':{'percent':0.915,'value':0.0},'bottom':{'percent':1.0,'value':0.0}});
      this.coordinates.push({'name':'Somerset House II','left':{'percent':0.801,'value':0.0},'top':{'percent':0.28,'value':0.0},'right':{'percent':0.862,'value':0.0},'bottom':{'percent':1.0,'value':0.0}});
      this.coordinates.push({'name':'Cell Tower at Lyttonsville Road','left':{'percent':0.775,'value':0.0},'top':{'percent':0.38,'value':0.0},'right':{'percent':0.794,'value':0.0},'bottom':{'percent':0.78,'value':0.0}});
      this.coordinates.push({'name':'Miller & Long','left':{'percent':0.617,'value':0.0},'top':{'percent':0.45,'value':0.0},'right':{'percent':0.626,'value':0.0},'bottom':{'percent':0.65,'value':0.0}});
      this.coordinates.push({'name':'The Avocet','left':{'percent':0.601,'value':0.0},'top':{'percent':0.36,'value':0.0},'right':{'percent':0.608,'value':0.0},'bottom':{'percent':0.63,'value':0.0}});
      this.coordinates.push({'name':'The Wilson','left':{'percent':0.593,'value':0.0},'top':{'percent':0.25,'value':0.0},'right':{'percent':0.6,'value':0.0},'bottom':{'percent':0.6,'value':0.0}});
      this.coordinates.push({'name':'The Elm','left':{'percent':0.582,'value':0.0},'top':{'percent':0.25,'value':0.0},'right':{'percent':0.593,'value':0.0},'bottom':{'percent':0.6,'value':0.0}});
      this.coordinates.push({'name':'Marriott HQ','left':{'percent':0.57,'value':0.0},'top':{'percent':0.34,'value':0.0},'right':{'percent':0.583,'value':0.0},'bottom':{'percent':0.61,'value':0.0}});    
      this.coordinates.push({'name':'The Edge Apartments','left':{'percent':0.555,'value':0.0},'top':{'percent':0.35,'value':0.0},'right':{'percent':0.564,'value':0.0},'bottom':{'percent':0.61,'value':0.0}});
      this.coordinates.push({'name':'Nuclear Regulatory Commission','left':{'percent':0.54,'value':0.0},'top':{'percent':0.35,'value':0.0},'right':{'percent':0.545,'value':0.0},'bottom':{'percent':0.61,'value':0.0}});
      this.coordinates.push({'name':'NIH','left':{'percent':0.522,'value':0.0},'top':{'percent':0.35,'value':0.0},'right':{'percent':0.538,'value':0.0},'bottom':{'percent':0.61,'value':0.0}});
      this.coordinates.push({'name':'Towers @ Greentree Rd','left':{'percent':0.41,'value':0.0},'top':{'percent':0.26,'value':0.0},'right':{'percent':0.43,'value':0.0},'bottom':{'percent':0.55,'value':0.0}});
      this.coordinates.push({'name':'Water Tank @ Radnor Rd','left':{'percent':0.375,'value':0.0},'top':{'percent':0.25,'value':0.0},'right':{'percent':0.392,'value':0.0},'bottom':{'percent':0.5,'value':0.0}});
      this.coordinates.push({'name':'Cell Tower @ Goldsboro Rd','left':{'percent':0.34,'value':0.0},'top':{'percent':0.14,'value':0.0},'right':{'percent':0.352,'value':0.0},'bottom':{'percent':0.4,'value':0.0}});
      this.coordinates.push({'name':'Fourth Presbyterian Church','left':{'percent':0.256,'value':0.0},'top':{'percent':0.23,'value':0.0},'right':{'percent':0.266,'value':0.0},'bottom':{'percent':0.48,'value':0.0}});
      this.coordinates.push({'name':'SunTrust River Road','left':{'percent':0.213,'value':0.0},'top':{'percent':0.35,'value':0.0},'right':{'percent':0.227,'value':0.0},'bottom':{'percent':0.5,'value':0.0}});
      this.coordinates.push({'name':'Westwood Center','left':{'percent':0.206,'value':0.0},'top':{'percent':0.34,'value':0.0},'right':{'percent':0.213,'value':0.0},'bottom':{'percent':0.5,'value':0.0}});
      this.coordinates.push({'name':'Westwood Tower','left':{'percent':0.172,'value':0.0},'top':{'percent':0.17,'value':0.0},'right':{'percent':0.205,'value':0.0},'bottom':{'percent':0.5,'value':0.0}});
      this.coordinates.push({'name':'Cell Tower @ River Rd','left':{'percent':0.161,'value':0.0},'top':{'percent':0.00,'value':0.0},'right':{'percent':0.172,'value':0.0},'bottom':{'percent':0.5,'value':0.0}});
      this.coordinates.push({'name':'ezStorage','left':{'percent':0.114,'value':0.0},'top':{'percent':0.3,'value':0.0},'right':{'percent':0.124,'value':0.0},'bottom':{'percent':0.5,'value':0.0}});
      this.coordinates.push({'name':'Residences at CCT','left':{'percent':0.077,'value':0.0},'top':{'percent':0.2,'value':0.0},'right':{'percent':0.113,'value':0.0},'bottom':{'percent':0.5,'value':0.0}});
      this.coordinates.push({'name':'Tysons Corner','left':{'percent':0.01,'value':0.0},'top':{'percent':0.1,'value':0.0},'right':{'percent':0.07,'value':0.0},'bottom':{'percent':0.3,'value':0.0}});  
      this.popups.push({'name':'North Park Apartments','address':'4615 North Park Avenue','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1593006444/Panorama/North_Park_Apartments.jpg','description':'Apartment building built in 1973 with 310 one and two bedroom apartments ranging from $1.7K to $3.6K per month. It offers panoramic views from its rooftop pool area, fitness center, and it is pet-friendly.','website':'https://www.northparkave.com/', 'style':''});
      this.popups.push({'name':'The Elizabeth','address':'4601 North Park Avenue','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1593008174/Panorama/The_Elizabeth.jpg','description':'Hi-rise condominium built in 1976 featuring one and two bedroom units ranging in price from $255K to $715K. It is a pet-friendly building with an indoor pool, fitness center, and nearby hair salon, dry cleaner and deli that sells beer and wine.','website':'https://www.cparkre.com/the-elizabeth-condos.php#grid', 'style':''});
      this.popups.push({'name':'Chevy Chase Building','address':'5530 Wisconsin Avenue','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592947348/Panorama/Chevy_Chase_Building.jpg','description':'Medical office building with a US Post Office, pharmacy and bank at street level.','website':'https://www.commercialcafe.com/commercial-property/us/md/chevy-chase/chevy-chase-building/', 'style':''});
      this.popups.push({'name':'Parc Somerset','address':'5630 Wisconsin Avenue','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592947341/Panorama/Parc_Somerset.jpg','description':'Along with Somerset House I and II, the most exclusive condominium in Chevy Chase. A 3 bedroom, 5,000 sqft condo can fetch $5.5M.','website':'https://www.cparkre.com/parc-somerset-condos.php#grid', 'style':''});
      this.popups.push({'name':'Somerset House II','address':'5610 Wisconsin Avenue','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592947345/Panorama/Somerset_House_II.jpg','description':'More moderately priced than the Parc Somerset, this condominium has homes that can range from $899K to $2.6M.','website':'https://www.highrises.com/washington/somerset-condos/', 'style':''});
      this.popups.push({'name':'Cell Tower at Lyttonsville Road','address':'8744 Brookeville Road, Silver Spring','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1593022604/Panorama/Cell_Tower_Lyttonsville_Road.jpg','description':'695 foot tall cell tower, located near <a href="https://www.creativecakes.com/">Creative Cakes</a> and <a href="https://www.partywarehousesilverspring.com/">Party Warehouse</a>.','website':'https://gis3.montgomerycountymd.gov/WirelessAntennasAndTowers/', 'style':''});
      this.popups.push({'name':'Miller & Long','address':'7101 Wisconsin Avenue, Bethesda','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1593610806/Panorama/Miller_Long.jpg','description':'Offices of <a href="https://www.millerandlong.com/">Miller & Long</a> Concrete Construction, as well as <a href="https://www.donohoe.com/">Donohoe Construction</a>. On the street level is <a href="https://www.solidcore.co/">[solidcore]</a> Pilates studio and <a href="https://fursbygartenhaus.com/">Gartenhaus</a> furs.','website':'https://www.loopnet.com/Listing/7101-Wisconsin-Ave-Bethesda-MD/18400411/', 'style':''});
      this.popups.push({'name':'The Avocet','address':'7373 Wisconsin Avenue','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1591827277/Panorama/The_Avocet.jpg','description':'Two 22 story office buildings with roof terraces. 370,000 square feet of space. It will include a <a href="https://ac-hotels.marriott.com/">Marriott AC</a> Hotel.','website':'https://avocettower.com/', 'style':''});
      this.popups.push({'name':'The Wilson','address':'7272 Wisconsin Ave','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1591743999/Panorama/The_Wilson.jpg','description':'23 story, 361,000 sf office building constructed in the style of <a href="https://www.dezeen.com/2018/08/06/10-examples-pixelated-architecture-jenga-style-buildings-towers/">Jenga architecture</a> and will provide access to the Metro Red and Purple Lines. The <a href="https://bethesdamagazine.com/bethesda-beat/news/report-carr-properties-agrees-to-buy-redevelop-bethesdas-apex-building/">Apex building</a> formerly existed at this site, which contained <a href="https://bethesdamagazine.com/bethesda-beat/entertainment-events/regal-cinema-bids-farewell-to-downtown-bethesda/">Regal Cinema</a> and was a popular gathering place for young people.','website':'https://workthewilson.com/', 'style':''});
      this.popups.push({'name':'The Elm','address':'7239 Woodmont Ave','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1591826404/Panorama/The_Elm.jpg','description':'Two 28 story apartment towers built in the <a href="https://www.dezeen.com/2018/08/06/10-examples-pixelated-architecture-jenga-style-buildings-towers/">Jenga</a> style, connected by a roof top bridge. Landscaped roof deck and easy access to the Metro Red and Purple Lines.','website':'https://www.bozzuto.com/apartments/bethesda/md/the-elm/', 'style':''});
      this.popups.push({'name':'Marriott HQ','address':'7750 Wisconsin Avenue','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592262640/Panorama/Marriott_HQ.jpg','description':'New global headquarters and a short walk from the Bethesda Metro station. It will be adjacent to a 244-room Marriott Hotel. Marriott International has called Montgomery County, Maryland, home for more than 60 years.','website':'http://www.mhqbethesda.com/project-overview/', 'style':''});
      this.popups.push({'name':'The Edge Apartments','address':'4885 Edgemoor Lane','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1599496645/Panorama/The_Edge.jpg','description':'Under construction, 15 story, 154 unit multi-family property with new public green space along Edgemoor Lane. Incorporated into the building is an exciting glass and metal panel facade that will match the curve of Woodmont Avenue and tie the building to its surroundings.','website':'https://www.equityapartments.com/maryland/bethesda/edgemont-at-bethesda-ii-apartments', 'style':''});
      this.popups.push({'name':'Nuclear Regulatory Commission','address':'11555 Rockville Pike','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1599497381/Panorama/Nuclear_Regulatory_Commission.jpg','description':'Headquarters of the US NRC, created by an act of Congress in 1974. Located at the White Flint Metro station.','website':'https://www.nrc.gov/about-nrc/locations/hq.html', 'style':''});
      this.popups.push({'name':'NIH','address':'9000 Rockville Pike, Bethesda','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1599498047/Panorama/NIH.jpg','description':'The National Institutes of Health (NIH), a part of the U.S. Department of Health and Human Services, is the nation’s medical research agency — making important discoveries that improve health and save lives.','website':'https://www.nih.gov/', 'style':''});
      this.popups.push({'name':'Towers @ Greentree Rd','address':'7115 Greentree Road','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592855711/Panorama/WMAL_Towers.jpg','description':'Radio towers, formerly used by WMAL 630 AM, loom over a 75 acre green space on the part of Greentree Road that comes off Longwood Drive. It is unofficially used as a dog park and contains a 1.25 mile loop, an <a href="https://www.runwashington.com/2018/09/24/last-hurrah-for-the-towers-bethesda-due-to-lose-great-running-spot/">important part</a> of the local running culture. Residents sadly anticipate the impending <a href="http://robertdyer.blogspot.com/2020/02/wmal-radio-towers-demolition.html">demolition</a> of these towers to make way for a new Toll Brothers 330 house development. Just <a href="http://montgomeryplanningboard.org/wp-content/uploads/2018/11/820170170-WMAL-Staff-Report-FINAL.pdf">4 acres</a> of green space will be spared for school use.<br/><br/>The radio station built the towers here in the 1940s, anticipating a huge growth in suburbia. Over the years, many radio listerners switched to the Internet and Podcasts, and the towers were no longer needed.<br/><br/>Towers built for suburban sprawl will now be consumed by it. Dare we call them the "<a href="https://www.newyorker.com/books/page-turner/giving-tree-50-sadder-remembered">Giving Towers</a>?"</br><br/>Nearby is the <a href="https://www.woodsacademy.org/">Woods Academy</a> private Catholic school, and <a href="https://www.montgomeryparks.org/parks-and-trails/mccrillis-house-gardens/">McCrillis Gardens</a>, a Montgomery County park that features azaleas, unusual flowers, trees, plants, paths and gazebos.','website':'https://www.facebook.com/pages/The-Towers-Field-WMAL-Field/271454303492477', 'style':''});
      this.popups.push({'name':'Water Tank @ Radnor Rd','address':'7005B Radnor Road','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592838059/Panorama/Water_Tank_at_Radnor_Road.jpg','description':'Water tank with cell tower at 110 feet used by AT&T and Verizon. Nestled in residential neighborhood near Potomac Elementary and Radnor Schools.','website':'https://4thpres.org/', 'style':''});
      this.popups.push({'name':'Cell Tower @ Goldsboro Rd','address':'5601 River Road','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592679176/Panorama/Cell_Tower_at_Kenwood_CC.jpg','description':'230 foot cell tower on Goldsboro Road between River and Bradley. Shares space with Kenwood Country Club golf course. No golf ball damage was detected.','website':'https://4thpres.org/', 'style':''});
      this.popups.push({'name':'Fourth Presbyterian Church','address':'5500 River Road','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592600824/Panorama/Fourth_Presbyterian_Church.jpg','description':'Founded in 1828, its origins go back to the <a href="https://www.gtownpres.org/history">Georgetown Presbyterian Church</a> established in 1780. The use of "Fourth" in the name does not indicate that it was necessarily the fourth Presbyterian church to be built in Bethesda, but rather that it was the lowest number available at the time, as was the case with <a href="https://www.fourthchurch.org/about/history/index.html">Fourth Presbyterian Church of Chicago</a>.','website':'https://4thpres.org/', 'style':''});
      this.popups.push({'name':'SunTrust River Road','address':'5272 River Road','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592672792/Panorama/SunTrust_River_Road.jpg','description':'Kenwood branch. Roughly across the street from Whole Foods and next to American Plant nursery. Building contains Gaylords lighting store.','website':'https://www.suntrust.com/', 'style':''});
      this.popups.push({'name':'Westwood Center','address':'5401 Westbard Ave','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592856410/Panorama/Westwood_Shopping_Center.jpg','description':'Redevelopment plans start with demolition beginning in Summer 2020. Giant will remain open during this time. For now, the center, along with the Giant supermarket, has a toy and pool supply store, Starbucks, MC Liquor store, barber shop, pet store, hair salon, nail spa, SunTrust bank, Chinese takeout, frame store, and other retail.','website':'http://www.westwoodredevelopment.com/', 'style':''});
      this.popups.push({'name':'Westwood Tower','address':'5401 Westbard Ave','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592839207/Panorama/Westwood_Tower.jpg','description':'Apartments ranging from studios to a 5 bedroom penthouse duplex with spiral staircase. In-unit washers & dryers. Close to the paved Capital Crescent jogging/biking trail which stretches to Georgetown.','website':'https://www.westwoodtowerapts.com/', 'style':''});
      this.popups.push({'name':'Cell Tower @ River Rd','address':'5202b River Road','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592256009/Panorama/Cell_Tower_at_River_Road.jpg','description':'Shared by AT&T, Sprint, T-Mobile, Verizon and other small telecoms to transmit cellular signals. 740 feet in height.','website':'http://www.cellreception.com/towers/details.php?id=1035708', 'style':''});
      this.popups.push({'name':'ezStorage','address':'5329 Westbard Avenue','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592261614/Panorama/ezStorage.jpg','description':'All storage units are climate controlled, with drive-up loading and unloading. Units range in size from 5x5 to 10x30. Camera surveillance, computerized entry and all units are alarmed.','website':'https://www.ezstorage.com/locations/bethesda-nw-dc-chevy-chase/', 'style':''});
      this.popups.push({'name':'Residences at CCT','address':'5325 Westbard Ave','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592354725/Panorama/Residences_at_CCT.jpg','description':'Pet-friendly studio, 1 and 2 bedroom apartments. In-unit washers & dryers. Close to the paved Capital Crescent jogging / biking trail which stretches to Georgetown.','website':'https://www.residencesatcctrail.com/', 'style':''});
      this.popups.push({'name':'Tysons Corner','address':'Tysons Corner, VA','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1592598938/Panorama/Tysons_Corner.jpg','description':'Named after William Tyson, a Marylander who purchased the land and served as postmaster from 1854–1866. It wasn\'t until the 1960s when big development replaced the fruit stand once operated by Mr. Tyson. Tysons is seen today a prototype of an <a href="https://en.wikipedia.org/wiki/Edge_city">edge city</a>.','website':'https://en.wikipedia.org/wiki/Tysons,_Virginia', 'style':''});
    } else {
      this.backgroundImage = 'assets/Willard_Towers_South.jpg';
      this.coordinates.push({'name':'Sunrise Senior Living','left':{'percent':0.01,'value':0.0},'top':{'percent':0.52,'value':0.0},'right':{'percent':0.02,'value':0.0},'bottom':{'percent':0.7,'value':0.0}});
      this.coordinates.push({'name':'The Elizabeth','left':{'percent':0.035,'value':0.0},'top':{'percent':0.01,'value':0.0},'right':{'percent':0.045,'value':0.0},'bottom':{'percent':0.3,'value':0.0}});
      this.coordinates.push({'name':'North Park Apartments','left':{'percent':0.1,'value':0.0},'top':{'percent':0.13,'value':0.0},'right':{'percent':0.115,'value':0.0},'bottom':{'percent':0.35, 'value':0.0}});
      this.coordinates.push({'name':'The Willoughby','left':{'percent':0.165,'value':0.0},'top':{'percent':0.1,'value':0.0},'right':{'percent':0.177,'value':0.0},'bottom':{'percent':0.3, 'value':0.0}});
      this.coordinates.push({'name':'The Carleton','left':{'percent':0.16,'value':0.0},'top':{'percent':0.5,'value':0.0},'right':{'percent':0.175,'value':0.0},'bottom':{'percent':0.8, 'value':0.0}});
      this.coordinates.push({'name':'Wisconsin Place','left':{'percent':0.21,'value':0.0},'top':{'percent':0.03,'value':0.0},'right':{'percent':0.223,'value':0.0},'bottom':{'percent':0.35, 'value':0.0}});
      this.coordinates.push({'name':'GEICO','left':{'percent':0.26,'value':0.0},'top':{'percent':0.31,'value':0.0},'right':{'percent':0.28,'value':0.0},'bottom':{'percent':0.6, 'value':0.0}});
      this.coordinates.push({'name':'Bloomingdale\'s','left':{'percent':0.29,'value':0.0},'top':{'percent':0.45,'value':0.0},'right':{'percent':0.3,'value':0.0},'bottom':{'percent':0.65, 'value':0.0}});      
      this.coordinates.push({'name':'Alice Deal Middle School','left':{'percent':0.298,'value':0.0},'top':{'percent':0.08,'value':0.0},'right':{'percent':0.306,'value':0.0},'bottom':{'percent':0.23, 'value':0.0}});      
      this.coordinates.push({'name':'Fort Reno Park','left':{'percent':0.308,'value':0.0},'top':{'percent':0.095,'value':0.0},'right':{'percent':0.316,'value':0.0},'bottom':{'percent':0.3, 'value':0.0}});
      this.coordinates.push({'name':'Fox 5 Broadcast Tower','left':{'percent':0.317,'value':0.0},'top':{'percent':0.01,'value':0.0},'right':{'percent':0.327,'value':0.0},'bottom':{'percent':0.3,'value':0.0}});
      this.coordinates.push({'name':'Brookdale Park','left':{'percent':0.34,'value':0.0},'top':{'percent':0.4,'value':0.0},'right':{'percent':0.36,'value':0.0},'bottom':{'percent':0.7,'value':0.0}});
      this.coordinates.push({'name':'Woodrow Wilson HS','left':{'percent':0.365,'value':0.0},'top':{'percent':0.05,'value':0.0},'right':{'percent':0.378,'value':0.0},'bottom':{'percent':0.4,'value':0.0}});      
      this.coordinates.push({'name':'Cell Tower @ Brandywine St','left':{'percent':0.382,'value':0.0},'top':{'percent':0.02,'value':0.0},'right':{'percent':0.389,'value':0.0},'bottom':{'percent':0.25,'value':0.0}});
      this.coordinates.push({'name':'Cell Tower @ Chesapeake St','left':{'percent':0.392,'value':0.0},'top':{'percent':0.02,'value':0.0},'right':{'percent':0.401,'value':0.0},'bottom':{'percent':0.25,'value':0.0}});
      this.coordinates.push({'name':'Tenleytown','left':{'percent':0.415,'value':0.0},'top':{'percent':0.02,'value':0.0},'right':{'percent':0.425,'value':0.0},'bottom':{'percent':0.27,'value':0.0}});
      this.coordinates.push({'name':'Citizen Heights Church','left':{'percent':0.427,'value':0.0},'top':{'percent':0.06,'value':0.0},'right':{'percent':0.433,'value':0.0},'bottom':{'percent':0.31,'value':0.0}});
      this.coordinates.push({'name':'National Cathedral','left':{'percent':0.465,'value':0.0},'top':{'percent':0.05, 'value':0.0},'right':{'percent':0.476,'value':0.0},'bottom':{'percent':0.3,'value':0.0}});
      this.coordinates.push({'name':'National Presbyterian','left':{'percent':0.49,'value':0.0},'top':{'percent':0.05,'value':0.0},'right':{'percent':0.499,'value':0.0},'bottom':{'percent':0.35,'value':0.0}});
      this.coordinates.push({'name':'NBC Tower @ Nebraska Ave','left':{'percent':0.51,'value':0.0},'top':{'percent':0.05,'value':0.0},'right':{'percent':0.517,'value':0.0},'bottom':{'percent':0.35,'value':0.0}});
      this.coordinates.push({'name':'American University','left':{'percent':0.6,'value':0.0},'top':{'percent':0.07,'value':0.0},'right':{'percent':0.61,'value':0.0},'bottom':{'percent':0.35,'value':0.0}});
      this.coordinates.push({'name':'Arlington, VA','left':{'percent':0.71,'value':0.0},'top':{'percent':0.07,'value':0.0},'right':{'percent':0.717,'value':0.0},'bottom':{'percent':0.35,'value':0.0}});
      this.coordinates.push({'name':'Arlington Water Tower','left':{'percent':0.776,'value':0.0},'top':{'percent':0.07,'value':0.0},'right':{'percent':0.785,'value':0.0},'bottom':{'percent':0.35,'value':0.0}});
      this.coordinates.push({'name':'Westmoreland Church','left':{'percent':0.806,'value':0.0},'top':{'percent':0.2,'value':0.0},'right':{'percent':0.815,'value':0.0},'bottom':{'percent':0.5,'value':0.0}});
      this.coordinates.push({'name':'Briggs Memorial Baptist Church','left':{'percent':0.83,'value':0.0},'top':{'percent':0.2,'value':0.0},'right':{'percent':0.84,'value':0.0},'bottom':{'percent':0.5,'value':0.0}});
      this.popups.push({'name':'Sunrise Senior Living','address':'5555 Friendship Blvd, Chevy Chase','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603214063/Panorama/SunriseSeniorLiving.jpg','description':'Assisted living center, 10 minutes from Sibley and Suburban hospitals. It offers on-site physical and occupational/speech rehabilitation services, psychiatry, dermatology, beauty and barber services. Residents enjoy easy walking distance to parks, shops, and the <a href="https://www.friendshipheightsmd.gov">Friendship Heights Village Center</a>.','website':'https://www.sunriseseniorliving.com/communities/brighton-gardens-of-friendship-heights/about.aspx', 'style':''});
      this.popups.push({'name':'The Elizabeth','address':'4601 North Park Ave','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1593008174/Panorama/The_Elizabeth.jpg','description':'Hi-rise condominium built in 1976 featuring one and two bedroom units ranging in price from $255K to $715K. It is a pet-friendly building with an indoor pool, fitness center, and nearby hair salon, dry cleaner and deli that sells beer and wine.','website':'https://www.cparkre.com/the-elizabeth-condos.php#grid', 'style':''});
      this.popups.push({'name':'North Park Apartments','address':'4615 North Park Ave, Chevy Chase','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1593006444/Panorama/North_Park_Apartments.jpg','description':'Apartment building built in 1973 with 310 one and two bedroom apartments ranging from $1.7K to $3.6K per month. It offers panoramic views from its rooftop pool area, fitness center, and it is pet-friendly.','website':'https://www.northparkave.com/', 'style':''});
      this.popups.push({'name':'The Willoughby','address':'4515 Willard Ave and 5500 Friendship Blvd, Chevy Chase','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603216653/Panorama/TheWilloughby.jpg','description':'Large high-rise condominium built in 1969 with 815 one, two and three bedroom apartments. The building was designed by award-winning, modernist architect <a href="https://en.wikipedia.org/wiki/Vlastimil_Koubek">Vlastimil Koubek</a>, the Czech-American who won awards for some of his more than 100 buildings, most of which are in the Washington DC area.','website':'https://en.wikipedia.org/wiki/Willoughby_Condominium', 'style':''});
      this.popups.push({'name':'The Carleton','address':'4550 North Park Ave, Chevy Chase','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603218012/Panorama/TheCarleton.jpg','description':'Small, boutique condominium built in 1982 with 149 units containing from one to three bedrooms. Laundry in-unit and independent temperature control makes The Carleton unique.','website':'http://www.carletonofchevychase.com/', 'style':''});            
      this.popups.push({'name':'Wisconsin Place','address':'4400 Willard Ave, Chevy Chase','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603218664/Panorama/WisconsinPlace.jpg','description':'Modern apartment rentals with studios through 3 bedrooms with rent approxiamately ranging from $1.6K to $4.6K per month. The building replaced a Hecht\'s department store in 2009 and is now right next to <a href="https://www.wholefoodsmarket.com/stores/friendshipheights">Whole Foods</a>, an entrance to the <a href="https://www.wmata.com/rider-guide/stations/friendship-hts.cfm">Friendship Heights Metro station</a>, and across the street from <a href="https://www.meiwahrestaurant.com/">Mei Wah</a> Chinese restaurant. Wisconsin Place apartments were previously known as the <a href="https://dcmud.blogspot.com/2007/02/new-friendship-heights-com_117190383255966241.html">Archstone</a>.','website':'https://www.equityapartments.com/washington-dc/friendship-heights/wisconsin-place-apartments?mkwid=sC8omg1vW_dc&pcrid=432501756642&pkw=wisconsin%20place%20apartments&pmt=e&utm_source=google&utm_medium=cpc&utm_term=Wisconsin+Place+Apartments&utm_campaign=&utm_group=Wisconsin+Place+Apartments&gclsrc=aw.ds&&utm_source=google&utm_medium=cpc&utm_campaign=EQR_DC_Properties_Search_Branded_Exact_Null&mkwid=sC8omg1vW|pcrid|432501756642|pkw|wisconsin%20place%20apartments|pmt|e|pdv|c|slid||product||pgrid|39963762959|ptaid|kwd-43356067367|&pgrid=39963762959&ptaid=kwd-43356067367&utm_content=sC8omg1vW|pcrid|432501756642|pkw|wisconsin%20place%20apartments|pmt|e|pdv|c|slid||product||pgrid|39963762959|ptaid|kwd-43356067367|&intent=DC_b&gclid=CjwKCAjwlbr8BRA0EiwAnt4MTqJHeD6TKIPffK0g54uXXrpjv2wHWMPF-wLi57092fI32bx-PDgctRoCBD0QAvD_BwE', 'style':''});
      this.popups.push({'name':'GEICO','address':'5260 Western Ave, Chevy Chase','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603220401/Panorama/GEICO.jpg','description':'The <a href="http://www.montgomeryplanning.org/historic/montgomery_modern/geico_headquarters.shtm">headquarters</a> of the Government Employees Insurance Company has been here since 1959. The 26-acre landscaped campus includes mature trees, terraced parking, and a fountain perched at the entrance like a hovercraft. <a href="https://en.wikipedia.org/wiki/GEICO">GEICO</a> is the second largest auto insurer in the USA, after <a href="https://en.wikipedia.org/wiki/State_Farm">State Farm</a>. The company was founded in 1936 by Leo and Lillian Goodwin in Fort Worth Texas and later moved to Chevy Chase to best serve their federally employed insureds. The business model was based on the assumption that federal employees constitute a less risky and more financially stable pool of insureds compared to the general public.','website':'https://www.geico.com/', 'style':''});                  
      this.popups.push({'name':'Bloomingdale\'s','address':'5300 Western Ave, Chevy Chase','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603227902/Panorama/Bloomingdales.jpg','description':'Upscale department store from New York. Along with Saks Fifth Avenue, Neiman Marcus, and Lord & Taylor is an anchor luxury retailer in Chevy Chase. However, Lord & Taylor and Neiman Marcus are headed for <a href="https://www.forbes.com/sites/michaellisicky/2020/08/22/bloomingdales-lord--taylor-neiman-marcus-and-saks-define-themselves-in-a-washington-dc-community/#1208ad3c119e">bankruptcy court</a> due to COVID and sales that were declining before the pandemic.','website':'https://locations.bloomingdales.com/wisconsin-place--chevy-chase', 'style':''});                        
      this.popups.push({'name':'Alice Deal Middle School','address':'3815 Fort Dr NW, Washington, DC','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603295788/Panorama/AliceDeal.jpg','description':'Named after the African American teacher, principal, and fund raiser who organized the first middle school in Washington DC. Alice Deal is the <a href="https://en.wikipedia.org/wiki/District_of_Columbia_Public_Schools">flagship middle school</a> of the city with 1,477 students and is an authorized <a href="https://en.wikipedia.org/wiki/International_Baccalaureate">International Baccalaureate</a> Middle Years Program (IB MYP) world school. It primarily feeds <a href="https://www.wilsonhs.org/#">Woodrow Wilson High School</a>, which is almost across the street.','website':'https://www.alicedealmiddleschool.org/', 'style':''});                        
      this.popups.push({'name':'Fort Reno Park','address':'4000 Chesapeake St NW, Washington, DC','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603298208/Panorama/FortReno.jpg','description':'Part of the Civil War defenses of Washington, <a href="https://en.wikipedia.org/wiki/Fort_Reno_Park">Fort Reno</a> was used to defend against a Confederate attack in July of 1864 led by <a href="https://en.wikipedia.org/wiki/Jubal_Early">Gen. Jubal A. Early</a>. Today it is a national park with baseball and soccer fields, along with tennis courts, a community garden, and an unofficial dog park. The Gothic water tower and other buildings are part of the Fort Reno underground reservoir and pumping station. The tower was built in 1896 at the highest natural point in the city. Fort Reno was used as a <a href="https://en.wikipedia.org/wiki/Continuity_of_government">Continuity of government</a> site during the Cold War. The large brick circular tower is in fact not a water tower, but a 50\s-tech communications array, on top of living facilities for the crew.','website':'https://www.nps.gov/places/fort-reno.htm', 'style':''});
      this.popups.push({'name':'Fox 5 Broadcast Tower','address':'5151 Wisconsin Ave NW','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603316093/Panorama/Fox5Tower.jpg','description':'TV broadcast tower with height of 705 feet. Headquarters of Fox 5, established in Washington DC in 1945 with plans to relocate to Bethesda. In its place 280 apartments will be built by <a href="https://www.donohoe.com/">Donohoe Construction</a>. The tower transmits TV signals and is used by the major telecoms.','website':'https://www.buzzbuzzhome.com/us/fox-5-headquarters-redevelopment', 'style':''});
      this.popups.push({'name':'Brookdale Park','address':'Dalton Road, Chevy Chase','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603317622/Panorama/BrookdalePark.jpg','description':'Neighborhood park with a playground, paracourse track, and small basketball and volleyball courts. Connects to the GEICO campus. The Brookdale neighborhood was built between 1934 and 1947.','website':'https://montgomeryplanning.org/historic/resources/documents/BrookdaleMIHP8-30-06.pdf', 'style':''});      
      this.popups.push({'name':'Woodrow Wilson HS','address':'3950 Chesapeake St NW, Washington, DC','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603326692/Panorama/WoodrowWilsonHS.jpg','description':'The <a href="https://en.wikipedia.org/wiki/Woodrow_Wilson_High_School_(Washington,_D.C.)">school</a> was built in 1935 but was extensively renovated in 2011. On September 15, 2020, a DC Public Schools official announced the school would <a href="https://wtop.com/dc/2020/10/woodrow-wilson-high-renaming-window-for-public-input-opens/">change its name</a> after 85 years of being Woodrow Wilson High School due racial concerns. The school serves 1,829 students and is the largest comprehensive public high school in the District.','website':'https://www.wilsonhs.org/', 'style':''});            
      this.popups.push({'name':'Cell Tower @ Brandywine St','address':'4623 41st St NW, Washington, DC','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603378977/Panorama/CellTowerBrandywine.jpg','description':'Operated by American Towers, LLC and used by the major telecommunication companies. Height is 240 feet.','website':'http://www.cellreception.com/towers/details.php?id=1045845', 'style':''});
      this.popups.push({'name':'Cell Tower @ Chesapeake St','address':'4010 Chesapeake St., NW Washington, DC','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603378983/Panorama/CellTowerChesapeake.jpg','description':'Owned by Detroit Free Press, Inc., near <a href="https://wilsonhs.org/">Woodrow Wilson High School</a> and <a href="https://en.wikipedia.org/wiki/Fort_Reno_Park">Fort Reno Park</a>. Height is 690 feet.','website':'http://www.cellreception.com/towers/details.php?id=1051670', 'style':''});
      this.popups.push({'name':'Tenleytown','address':'4500 Wisconsin Ave, Washington, DC','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603391298/Panorama/Tenleytown.jpg','description':'The Washington DC neighborhood where you\'ll discover a vast array of popular offerings, such as:<br/><br/><ul><li><a href="https://tenleytownmainstreet.org/business/?cat=restaurant">35</a> restaurants</li><li><a href="https://www.wholefoodsmarket.com/stores/tenley">Whole Foods</a></li><li><a href="https://www.target.com/sl/dc-tenleytown/3351">Target</a></li><li><a href="https://www.containerstore.com/locations/showStore.htm?store=WDC">The Container Store</a></li><li><a href="https://www.cvs.com/store-locator/cvs-pharmacy-address/4555+Wisconsin+Avenue-Washington-DC-20016/storeid=2174">CVS</s></li><li><a href="https://locations.theupsstore.com/dc/washington/4200-wisconsin-ave-nw">The UPS Store</a></li><li><a href="https://www.acehardware.com/store-details/14263">Ace Hardware</a></li><li><a href="https://www.7-eleven.com/locations/dc/washington/4319-wisconsin-ave-nw-25464?yext=25464">Convenience</a> stores</li><li><a href="http://universalfloors.com/">Flooring</a> and <a href="https://tenleytownmainstreet.org/business/the-tile-shop">tiling</a> stores</li><li><a href="https://tenleytownmainstreet.org/business/?cat=salons-spas">Salons</a></li><li><a href="https://americanvaletdc.com/">Dry cleaners</a></li><li><a href="https://artfoliodc.com/">Framers</a></li><li><a href="http://petmac.org/">Pet</a> stores</li><li><a href="https://www.friendshiphospital.com/">Veterinary</a> hospital</li><li><a href="https://www.american.edu/cas/greenberg/">Theater</a></li><li><a href="https://www.dclibrary.org/tenley">Library</a></li><li><a href="https://tenleymarketliquor.com/">Liquor</a> stores</li><li><a href="http://signaturecigarsdc.com/?portfolio=dc-location">Cigar</a> shops</li><li><a href="http://louicedc.com/">Tailor</a></li><li><a href="http://www.middlecmusic.com/">Music</a> store</li><li><a href="https://www.facebook.com/sullivanstoys/">Toy</a> store</li><li><a href="https://www.balloonzoom.com/">Balloon</a> decor</li><li><a href="https://www.twobirdsdc.com/">Child care</a></li><li><a href="http://www.bluegiraffedc.com/">Art</a> galleries</li><li><a href="https://www.citybikes.com/">Bike</a> store</li><li><a href="https://www.sportandhealth.com/locations/northwest">Gyms</a></li><li><a href="https://www.clubpilates.com/location/tenleytown">Pilates</a></li><li><a href="https://www.corepoweryoga.com/yoga-studios/district-columbia/washington/tenleytown">Yoga</a></li><li><a href="https://tenleytownmainstreet.org/business/?cat=health-wellness">Wellness</a></li><li>Club for the game of <a href="https://nationalgocenter.org/content.aspx?sl=1590145594">Go</a></li><li><a href="https://www.iona.org/">Senior</a> services</li><li><a href="https://stores.sleephappens.com/United-States/DC/Washington/Mattress-Warehouse-of-Washington-DC-Tenleytown/211/11139?utm_campaign=yext&utm_medium=organic&utm_source=GMB&y_source=1_OTk5MTI2Ni03MTUtbG9jYXRpb24uZ29vZ2xlX3dlYnNpdGVfb3ZlcnJpZGU%3D">Mattress</a> store</li><li><a href="http://dcorientalrugs.com/">Oriental rug</a> stores</li><li><a href="https://find.shell.com/us/fuel/10050538-4900-wisconsin-ave-nw">Gas</a> stations</li><li><a href="https://tenleytownautomotive.com/">Auto repair</a> shop</li><li><a href="https://na.chargepoint.com/charge_point?id=1:567141&action=VIEW">EV charging</a> stations</li><li><a href="https://computer-clinic-center.business.site/">Computer</a> repair shops</li><li><a href="http://graffitiaudiovideo.com/">Audio/video</a> store</li><li><a href="https://tenleytownmainstreet.org/business/?cat=education">Schools</a></li><li><a href="http://www.chase.com">Banks</a></li><li><a href="https://tenleytownmainstreet.org/business/?cat=legal-services">Lawyers</a></li><li><a href="http://www.kwcapitalproperties.com/our-offices/upper-nw/">Realtors</a></li><li><a href="https://thefrequencydc.com/">Apartments</a></li><li><a href="https://tenleyview.com/">Condos</a></li><li>And more!</li></ul>','website':'https://tenleytownmainstreet.org/', 'style':''});
      this.popups.push({'name':'Citizen Heights Church','address':'4100 River Road NW, Washington, DC','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603380008/Panorama/CitizenHeightsChurch.jpg','description':'Non-denominational, evangelical church in Tenleytown, organized in 2006.','website':'https://www.citizenheights.com/', 'style':''});
      this.popups.push({'name':'National Cathedral','address':'3101 Wisconsin Ave NW, Washington DC','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603739773/Panorama/NationalCathedral.jpg','description':'<a href="https://en.wikipedia.org/wiki/Gothic_Revival_architecture">Neo-Gothic</a> cathedral of the <a href="https://en.wikipedia.org/wiki/Episcopal_Church_(United_States)">Episcopal Church</a>. It is the <a href="https://en.wikipedia.org/wiki/List_of_largest_church_buildings">third-largest</a> church building in the United States, and the <a href="https://en.wikipedia.org/wiki/List_of_tallest_buildings_in_Washington,_D.C.">fourth-tallest</a> structure in Washington, D.C. Construction spanned 83 years from 1907 to 1990. Decorative work is ongoing as of 2011.<br/><br/>Funding, along with maintenance have come strictly from private sources. Contrary to popular misconception, the government has not designated it as a national house of prayer.<br/><br/>In June 2016, after an examination by a five-person task force it was announced that two Confederate battle flag images would be removed from stained glass windows commemorating the lives of Confederate generals <a href="https://en.wikipedia.org/wiki/Robert_E._Lee">Robert E. Lee</a> and <a href="https://en.wikipedia.org/wiki/Stonewall_Jackson">Stonewall Jackson</a>.','website':'https://en.wikipedia.org/wiki/Washington_National_Cathedral', 'style':''});
      this.popups.push({'name':'National Presbyterian','address':'4101 Nebraska Ave NW, Washington DC','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603740113/Panorama/NationalPresbyterianChurch.jpg','description':'Beginnings of the congregation go back to 1795 when stonemasons building the White House held worship services on those grounds. NPC was attended by most American presidents.<br/><br/>In 1866, <a href="https://en.wikipedia.org/wiki/Byron_Sunderland">Rev. Byron Sunderland</a> allowed <a href="https://en.wikipedia.org/wiki/Frederick_Douglass">Frederick Douglass</a> to speak from the pulpit when no other church in Washington would do so.<br/><br/>The cornerstone of the present day National Presbyterian Church was laid by former President Eisenhower on October 14,1967.','website':'https://nationalpres.org/', 'style':''});
      this.popups.push({'name':'NBC Tower @ Nebraska Ave','address':'4001 Nebraska Ave NW, Washington DC','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603741058/Panorama/NBC4.jpg','description':'Home of NBC4 News Washington, which will soon move to five floors of a building on <a href="https://www.newscaststudio.com/2019/07/26/nbc-news-washington-bureau/">Capitol Hill</a>.<br/><br/>Tower height is 662 feet.','website':'', 'style':''});
      this.popups.push({'name':'American University','address':'Nebraska and Massachusetts Avenues NW, Washington DC','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603742106/Panorama/AmericanUniversity.jpg','description':'Founded in 1893, fulfilling George Washington\'s dream of a "<a href="https://www.american.edu/about/history.cfm">national university</a>" in the nation\'s capital. AU has admitted African American students since its founding, at which time the city of Washington DC was segregated.<br/><br/><br/><br/><h1><a href="https://www.american.edu/about/">Important Facts</a></h1><ul><li>The <a href="https://en.wikipedia.org/wiki/List_of_American_University_people">alumni, faculty and staff</a> have included two Pulitzer Prize winners, two Nobel Prize winners, one United States Senator, 25 United States Representatives, and 18 United States Ambassadors.</li><br/><li>The university has over 14,000 undergraduate, graduate and law students.</li><br/><li>AU is ranked #76 \'Best National University\' by US News and World Report 2020.</li><br/><li>Students attend from all 50 states and 124 countries.</li></ul>','website':'https://www.american.edu/', 'style':''});
      this.popups.push({'name':'Arlington, VA','address':'Wilson Blvd and Glebe Rd, Arlington VA','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603746059/Panorama/ArlingtonVA.jpg','description':'The part of Arlington that you can see is <a href="https://www.ballstonquarter.com/en.html">Ballston Quarter</a>, a downtown destination with numerous fine shops, restaurants and entertainment.<br/><br/>The town was named after <a href="https://en.wikipedia.org/wiki/Henry_Bennet,_1st_Earl_of_Arlington">Henry Bennet</a>, <a href="https://en.wikipedia.org/wiki/Baron_Arlington">Earl of Arlington</a>, a plantation of the same name, and <a href="https://en.wikipedia.org/wiki/Arlington_House,_The_Robert_E._Lee_Memorial">Arlington House</a>, the former family home of General Robert E. Lee.<br/><br/>','website':'https://www.arlingtonva.us/', 'style':''});  
      this.popups.push({'name':'Arlington Water Tower','address':'24th St N, Arlington VA','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603762143/Panorama/ArlingtonWaterTower.jpg','description':'Water tower near <a href="https://www.marymount.edu/Home">Marymount University</a>, surrounded by two covered man-made reservoirs. The combined capacity is 6 million gallons of water.<br/><br/>The reservoirs were built in 1957 and needed restoration was <a href="https://www.arlnow.com/2019/07/11/county-board-to-vote-on-lee-heights-water-reservoir-restoration/">planned</a> for 2019.<br/><br/>','website':'https://rs.locationshub.com/location_detail.aspx?id=009-4010', 'style':''});  
      this.popups.push({'name':'Westmoreland Church','address':'1 Westmoreland Circle, Bethesda MD','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603825390/Panorama/WestmorelandCongregationalChurch.jpg','description':'The Westmoreland Congragational United Church of Christ began in 1886 as Mount Pleasant Congregational Church on Newton Street in Washington, DC. Throughout its history, the church has demonstrated a progressive viewpoint and has engaged in many outreach activities in the Washington DC area.<br/><br/>','website':'http://www.westmorelanducc.org/', 'style':''});
      this.popups.push({'name':'Briggs Memorial Baptist Church','address':'5148 Massachusetts Avenue, Bethesda MD','imageUrl':'https://res.cloudinary.com/backyardhiddengems-com/image/upload/v1603827900/Panorama/BriggsBaptistChurch.jpg','description':'Church provides legal services to immigrants, free English as Second Language classes, and nutritional assistance to <a href="https://marthastable.org">Martha\'s Table</a> of Washington DC.<br/><br/>','website':'https://www.briggscenter.org/', 'style':''});                    
    }
  }
  
  clickPanoImg(e) {
    if (e.srcElement.localName === 'div' || e.srcElement.localName === 'img') {
      this.currentPopup = 'blank';
    }
  }

  panoImgLoaded(e) {
    this.updateMarkerCoordinates();
    this.panoImgIsLoaded = true;
  }

  @HostListener('window:resize', ['$event']) onResize() {
    this.updateMarkerCoordinates();
  } 

  updateMarkerCoordinates() {
    const width = this.panoImage.width;
    const height = this.panoImage.height;
    for (let index = 0; index < this.coordinates.length; index++) {
      if (this.popups[index].name == 'The Avocet' || this.popups[index].name == 'Miller & Long') {
        console.log(this.popups[index].name, 'right', this.coordinates[index].right.value, 'percent', this.coordinates[index].right.percent);
      }
    }
    for (const coordinate of this.coordinates) {
      coordinate.left.value = width * coordinate.left.percent;
      coordinate.top.value = height * coordinate.top.percent;
      coordinate.right.value = width * coordinate.right.percent;
      coordinate.bottom.value = height * coordinate.bottom.percent;
    }
    for (let index = 0; index < this.coordinates.length; index++) {
      if (this.popups[index].name == 'The Avocet' || this.popups[index].name == 'Miller & Long') {
        console.log(this.popups[index].name, 'new right', this.coordinates[index].right.value + 10);
      }
      if (this.coordinates[index].right.percent > 0.8) {
        this.popups[index].style = 'position:relative;left:' + (this.coordinates[index].left.value - 180) + 'px;top:-90vh;';
      } else {
        this.popups[index].style = 'position:relative;left:' + (this.coordinates[index].right.value + 10) + 'px;top:-90vh;';
      }
    }
  }

  displayPopup(name) {
    this.currentPopup = name;
    console.log('currentPopup:', this.currentPopup, name);
  }
}
