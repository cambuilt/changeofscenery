<!doctype html>
<html lang="en">
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC8S_iM_T1L-gZ5rWhme8H6ri5lBry56Js&libraries=&v=beta"></script>
    <script type="text/javascript" src="https://app.termly.io/embed.min.js" data-auto-block="on" data-website-uuid="884db9fc-0e00-46bb-a950-9dc727fdcf14"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-153832690-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-153832690-1');
            var imageIndex = 0;
            var currentName = '';
        </script>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
        <base href="/">
        <title>Change of Scenery</title>
        <base href="/">
        <script src="https://kit.fontawesome.com/f9a422c4c8.js" crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="assets/icons/ms-icon-144x144.png">
        <link rel="manifest" href="manifest.webmanifest">        
        <meta name="theme-color" content="#1976d2">
        <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
        <script>
            function scrollImage(imagePath, name, imageCount) {
                while (name.indexOf(' ') > -1 || name.indexOf('’') > -1 || name.indexOf('è') > -1 || name.indexOf("'") > -1) {
                    name = name.replace(' ', '');
                    name = name.replace('’', '');
                    name = name.replace('è', 'e');
                    name = name.replace("'", "");
                }

                if (imagePath.indexOf('Washington') > -1) {
                    imageIndex++;
                    if (currentName != name) {
                        currentName = name;
                        imageIndex = 2;
                    }
                    if ( imageIndex > imageCount) {
                        imageIndex = 1;
                    }
                    $('#' + name).attr('src', imagePath + name + imageIndex);
                    $('#imageCount').html(imageIndex + '/' + imageCount);
                } else {
                    $('#' + name).attr('src', imagePath + name);
                }
            }

            function toggleLike(iconId, id) {
                const heartId = '#likedHeart' + iconId;
                if (localStorage.getItem('likedPlaces') != undefined) {
                    var likedPlaces = localStorage.getItem('likedPlaces').split(',');
                    if (likedPlaces.find(x => x == iconId) == undefined) {
                        likedPlaces.push(iconId);
                        $(heartId).attr('src', 'assets/heart.png');
                        window.angularComponentReferenceLike.zone.run(() => { window.angularComponentReferenceLike.loadLike(); });
                    } else {
                        likedPlaces = likedPlaces.filter(e => e !== iconId)
                        $(heartId).attr('src', 'assets/heart_empty.png');
                        window.angularComponentReferenceUnlike.zone.run(() => { window.angularComponentReferenceUnlike.loadUnlike(); });
                    }
                } else {
                    var likedPlaces = new Array();
                    likedPlaces.push(iconId);
                    $(heartId).attr('src', 'assets/heart.png');
                    window.angularComponentReferenceLike.zone.run(() => { window.angularComponentReferenceLike.loadLike(); });
                }
                localStorage.setItem('likedPlaces', likedPlaces);
            }
        </script>
    </head>

    <body style="margin: 0px;">
        <noscript>Please enable JavaScript to continue using this application.</noscript>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>        
        <div>
           <changeofscenery-root></changeofscenery-root>
        </div>
    </body>
</html>
